# 総当たり戦における順位決定アルゴリズムの検証

## 1. 検証目的

### 問題設定

総当たり戦において、勝ち数・負け数が同一となる参加者群が存在する場合、直接対決の結果を用いた順位決定が真の実力順と一致するかを検証する。

### 検証対象

- **従来ルール**: 直接対決の勝者が上位
- **代替ルール**: 直接対決の敗者が上位

## 2. 検証方法

### モンテカルロシミュレーション

1. **総当たり戦の実行**: $N$回の独立した総当たり戦
2. **同順位群の抽出**: 勝ち数・負け数が同一の参加者群のみを対象
3. **順位決定**: 直接対決結果による順位付け
4. **真値との比較**: 設定された実力順との一致判定

### 数学的モデル

- **勝率**: $P(\text{win}_{ij}) = \frac{1}{1 + e^{-(s_i - s_j)}}$ (ロジスティック関数)
- **同順位判定**: $w_i = w_j \land l_i = l_j$
  - 簡略化のため三人以上重なっている場合は無視する
- **精度**: $P(\text{correct} | \text{tie}) = \frac{\text{正解回数}}{\text{同順位発生回数}}$

## 3. 入力パラメータ

1. **参加者実力** ($\mathbf{s} \in \mathbb{R}^n$)

   - 例: $[100, 95, 90, 85]$

2. **シミュレーション回数** ($N$)

   - 例: $10^4$

3. **対戦回数** ($m$)
   - 例: $1$（標準的総当たり戦）

## 4. 出力

1. **シミュレーションサマリ**

   - シミュレーション数や同順位発生回数、精度などを整理して出力

2. **精度表**

   - 対戦車の組み合わせごとの精度を整理

3. **勝率表**
